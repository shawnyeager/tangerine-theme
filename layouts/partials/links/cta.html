{{/*
Purpose: Renders a primary CTA link with arrow or custom icon

Parameters (dict):
  url      (string, required): Link destination
  text     (string, required): Link text
  event    (string, optional): Plausible analytics event name
  class    (string, optional): Additional CSS classes
  icon     (string, optional): "arrow" (default), "lightning", or "none"

Usage in templates:
  {{ partial "links/cta.html" (dict "url" "/subscribe" "text" "Subscribe") }}
  {{ partial "links/cta.html" (dict "url" .Permalink "text" "Read more" "event" "essay_cta") }}
  {{ partial "links/cta.html" (dict "url" "/v4v/" "text" "Zap" "icon" "lightning") }}

Important Notes:
- Always outputs cta-link class
- Arrow uses aria-hidden for accessibility
- Lightning bolt SVG for V4V context
*/}}

{{- $url := .url -}}
{{- $text := .text -}}
{{- $event := .event | default "" -}}
{{- $extraClass := .class | default "" -}}
{{- $icon := .icon | default "arrow" -}}

{{- $class := "cta-link" -}}
{{- if $extraClass }}{{ $class = printf "%s %s" $class $extraClass }}{{ end -}}
{{- if $event }}{{ $class = printf "%s plausible-event-name=%s" $class $event }}{{ end -}}

<a href="{{ $url }}" class="{{ $class }}"><span class="link-text">{{ $text }}</span>{{ if eq $icon "lightning" }}&#8239;<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16" fill="currentColor" aria-hidden="true"><path d="M7.5 0L0 9h5l-1.5 7L12 7H6.5L7.5 0z"/></svg>{{ else if eq $icon "arrow" }} <span aria-hidden="true">â†’</span>{{ end }}</a>
